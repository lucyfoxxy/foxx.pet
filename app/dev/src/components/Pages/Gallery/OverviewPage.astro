---
import { siteContent } from '@Content/site';

interface CategoryEntry {
  slug: string;
  title: string;
}

const { categories } = Astro.props as { categories: CategoryEntry[] };
const { intro } = siteContent.pages.galleries;
---
<section class="content-head content-card__title section">
  <h1>{intro.heading}</h1>
  <div class="prose">
    <p>{intro.description}</p>
  </div>
</section>

<section class="content-layout section">
  <div class="media-galleries">
    
      {categories.map(({ slug, title }) => (
        <a class="media-galleries__card" href={`/galleries/${slug}`} aria-label={`Open ${title}`}>
          <div class="content-card__title">
            <h2>{title}</h2>
          </div>
          <div class="media-galleries__thumb" data-slug={slug}></div>        
        </a>
      ))}
    
  </div>
</section>

<script>
  import initGalleryCovers from '@Scripts/galleryOverview.js';
  import { runOnReady } from '@Scripts/utils/_runOnReady.js';

  runOnReady(initGalleryCovers);
</script>
