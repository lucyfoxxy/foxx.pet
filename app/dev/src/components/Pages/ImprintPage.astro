---
import { getPageContent } from '@Content/siteContent';

const content = await getPageContent('imprint');
const introParagraphs = content.introParagraphs ?? [];
const contacts = content.contacts ?? [];
const disclaimer = content.disclaimer ?? [];
---

  <section class="content-section">
    <div class="content-head content-card__title">
    <h1>{content.title}</h1>
      <div class="prose">
        {introParagraphs.map((paragraph) => (
          <p>{paragraph}</p>
        ))}
      </div>
    </div>
  </section>

  <section class="content-section">
    {contacts.map((contact) => (
      <div class="content-card" key={contact.title}>
        <div class="content-card__title">
          <h2>{contact.title}</h2>
          {contact.subtitle && <p><em>{contact.subtitle}</em></p>}
        </div>
        <dl class="deflist">
          {contact.entries.flatMap((entry) => [
            <dt class="deflist__term">{entry.term}</dt>,
            <dd class="deflist__desc">
              {entry.kind === 'mail' ? (
                <a href={`mailto:${entry.description}`}>{entry.description}</a>
              ) : (
                entry.description
              )}
            </dd>,
          ])}
        </dl>
      </div>
    ))}
  

    {disclaimer.length > 0 && (
      <div class="content-card">
        <div class="content-card__title">
          <h2>Disclaimer</h2>
          
            {disclaimer.map((paragraph) => (
              <p class="prose">
                <em>{paragraph}</em>
              </p>
            ))}
          
        </div>
      </div>
    )}
  </section>
