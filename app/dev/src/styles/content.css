/* ============================================ */
/* ======== CONTENT: COMPONENTS & ELEMENTS ==== */
/* ====== Depends on: tokens, site, typography ====== */
/* ============================================ */

/* ====== GENERAL CONTENT LAYOUT ======================= */



.content-section :where(h1,h2,h3,h4) {
  margin: 0 0 calc(var(--flow-gap) * .5) 0;
}

.content-section {
  display: grid;
  flex-wrap: wrap; 
  gap: var(--section-gap);
  align-items: stretch; 
  max-inline-size: 100%;
  grid-template-columns: 1fr;
}
.panel > .content-section { margin-block-start: var(--section-gap);}
.content-section--head { margin-block-end: var(--section-gap); }
.content-section.cols-2 { grid-template-columns: repeat(2, 1fr); }
.content-section.cols-3 { grid-template-columns: repeat(3, 1fr); }

@media (max-width: 800px) { .content-section.cols-2 { grid-template-columns: 1fr; }}
@media (max-width: 1100px) { .content-section.cols-3  { grid-template-columns: repeat(2, 1fr); }}

/* ====== CONTENT CARD ====== */
.card{
  display: grid;
  position: relative;
  min-block-size: 100%;
  block-size: 100%;

  grid-template-areas:
    "card-head"
    "card-body"
    "card-foot";
  grid-template-rows: auto 1fr auto;
  border-radius: var(--radius-l);
  padding: var(--card-padding);
  gap: var(--card-gap);
  backdrop-filter: var(--blur-m) brightness(1.15) saturate(.9);
  box-shadow: var(--surface-shadow--default), inset 0 0 29px color-mix(in oklab,transparent 20%,var(--card-surface--light));
}

.card--ghost    { box-shadow: var(--surface-shadow--default), inset 0 0 29px color-mix(in oklab,transparent 90%,var(--color-accent));}
.card--plain    { background: transparent; box-shadow: none; backdrop-filter: none;}
.card--dark   { 
  backdrop-filter: var(--blur-m) brightness(1.15) saturate(.9);
  box-shadow: var(--surface-shadow--default), inset 0 0 29px color-mix(in oklab,transparent 20%,var(--card-surface--dark)); }
.card--flush   { padding: 0;  gap: 0;}
.card--flush > .card__head {row-gap: 0; column-gap: 0;}
.card--plain :where(.prose){font-weight: var(--thick-font-weight);}
.is-centered { justify-items: center; text-align: center; }
.is-centered :where(.prose) { margin-inline: auto; }
.is-condensed { gap: var(--flow-gap); }
.is-italic { font-style: italic; }
.is-animated { transition: var(--transition-soft); }
.is-animated:hover,
.is-animated:focus-visible {
  transform: scale(1.04);
  box-shadow: var(--surface-glow--strong);
}

.card__head { 
  grid-area: card-head; 
  display: grid;
  grid-template-areas: "title badges";
  grid-template-columns: minmax(0,1fr) auto;
  align-items: flex-start;             /* vertikal mittig */
  column-gap: var(--card-gap);
}
@media (max-width: 900px) {
  .card__head{
    grid-template-areas:
      "title"
      "badges"; 
  } 
}
.card__head--column {
  grid-template-areas:
    "title"
    "badges";
  grid-template-columns: 1fr;
  row-gap: var(--flow-gap); 
}

.card__body { grid-area: card-body; display: contents; }
.card__foot { grid-area: card-foot; display: contents; }

.card__title { 
  grid-area: title; 
  min-width: 0; 
  align-items: center; 
  display: inline-flex; 
  gap: var(--control-gap);
}
.card__title > *, .card__title {
  filter: drop-shadow(1px 2px 2px var(--color-shadow--strong));
}  
.card__head > .card__badges{ grid-area: badges; }
.card__spacer { flex: 1 1 auto; }


/* ====== PROSE CONTENT ====== */
.prose {
  display: flex;
  flex-direction: column;
  gap: var(--flow-gap);
  margin-block: var(--flow-gap);
  max-inline-size: clamp(65ch, 35vw, 95ch);
}

.prose:first-child { margin-block-start: 0; }
.prose > * { 
  filter: drop-shadow(1px 2px 2px var(--color-shadow--strong));
  margin: 0; 
}

.prose ul,
.prose ol {
  padding-inline-start: 1.2em;
  margin: 0;
}

/* ====== HERO ====== */

.card__hero-banner {
  position: relative;
  border-radius: var(--radius-xl);
  overflow: hidden;
  background: var(--card-surface--dark);
  box-shadow: var(--surface-shadow--default);
  block-size: clamp(14rem, 38vh, 24rem);
}

.card__overlay {
  position: absolute;
  inset-inline: 0; 
  display: flex;
  flex-direction: row;
  gap: calc(var(--flow-gap) * 2);
  padding: var(--card-gap);

  backdrop-filter: var(--blur-l);
}

.card__overlay--controls {
  justify-content: center;
  align-items: center; 
  padding-block-end: var(--card-padding);
}

.card__overlay--title {
  justify-content: space-between;  
}

.card__overlay--column {flex-direction: column;}
.card__overlay--bottom {
  border-radius:  0 0 var(--radius-m) var(--radius-m);
  inset-block-end: 0;
}

.card__overlay--top {
  border-radius: var(--radius-m) var(--radius-m) 0 0;
  inset-block-start: 0;
}

.card__overlay--title :where(h1,h2,h3) {
  margin: 0;
  font-size: var(--font-size-l);
  line-height: var(--line-height-l);
  text-wrap: balance;
  text-shadow: var(--text-shadow--strong),var(--text-glow--soft);


}

.card__overlay--title :where(p) {
  margin: 0;
  font-size: var(--font-size-s);
  line-height: var(--line-height-m);
  opacity: 0.9;
}

:where(.card__overlay[data-show="false"]) {
  opacity: 0;
  transition: opacity .5s ease;
}
@media (max-width: 1100px) {
  .card__overlay[data-show="false"] {
    opacity: 0;
    transition: opacity .5s ease;
  }
}
*:hover > .card__overlay,
.card__overlay[data-show="true"] {
  opacity: 1;
  transition: opacity .5s ease;
}


.card__body > ol {
  list-style: none;
  padding: 0;
  margin: 0;
  display: inline-grid;
  grid-auto-flow: column;
  list-style: none;
  grid-template-columns: repeat(auto-fit, minmax(10vw, 1fr));
  gap: var(--card-gap);
}
@media (max-width: 900px) {
  .card__body > ol {
    grid-auto-flow: row;
    grid-template-columns: auto;
  }
}
.card__body > ol > li { margin: 0; }

.card__body > ol > li > a {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: var(--card-gap);
  align-items: flex-start;
  padding: calc(var(--card-gap) * 0.75) var(--card-gap);
  border-radius: var(--radius-m);
  background: color-mix(in oklab, var(--card-surface--light) 70%, transparent);
  box-shadow: var(--surface-shadow--soft);
  text-decoration: none;
  color: inherit;
  transition: var(--transition-soft);
}

.card__body > ol > li > a:hover,
.card__body > ol > li > a:focus-visible {
  transform: var(--transform-scale);
  box-shadow: var(--surface-glow--soft);
}

.card__body > ol > li > [data-chapter][data-active] {
  box-shadow: var(--surface-glow--strong);
}
[data-blog-chapter] {
  transition: opacity 0.25s ease;
}
#blog-chapter-target [data-blog-chapter] > :is(h1, h2, h3):first-child {
  display: none;
}

.card__body > ol > li > a > span:first-child {
  font-weight: var(--bold-font-weight);
  font-size: var(--font-size-m);
  line-height: var(--line-height-m);
  color: var(--text-highlight);
}

.card__body > ol > li > a > div {
  display: flex;
  flex-direction: column;
  gap: calc(var(--flow-gap) * 2);
}

.card__body > ol > li > a > div > strong {
  font-weight: var(--bold-font-weight);
  font-size: var(--font-size-m);
  line-height: var(--line-height-m);
}

.card__body > ol > li > a > div > span {
  font-size: var(--font-size-s);
  line-height: var(--line-height-m);
  opacity: 0.85;
}
