---
import { getEntry } from 'astro:content';
import Layout from '@Templates/baseLayout.astro';
import PawsPage from '@Pages/album/PawsPage.astro';
import { getPageContent } from '@Content/siteContent';
export const prerender = true;

const content = await getPageContent('galleries');
const catalogEntry = await getEntry('galleryCatalog', 'categories');
const categories = (Array.isArray(catalogEntry?.data?.categories) ? catalogEntry.data.categories : [])
  .filter((cat): cat is typeof cat & { slug: string } => Boolean(cat?.slug))
  .map((cat) => ({
    slug: cat.slug,
    title: cat.title,
    description: cat.description ?? '',
  }));
const meta = { title: content.title, description: content.description };
const backHref = '/';
const backLabel = '‚Üê Home';
---
<Layout title={content.title} meta={meta}>
  <Fragment slot="header__actions">
    <a class="button button--small button--dark" href={backHref}>{backLabel}</a>
  </Fragment>  
  <PawsPage {categories} />
</Layout>
