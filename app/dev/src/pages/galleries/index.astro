---
import { getEntry } from 'astro:content';
import Layout from '@Layout/Main.astro';
import GalleryOverviewPage from '@Pages/Gallery/OverviewPage.astro';
import { getPageContent } from '@Content/siteContent';
export const prerender = true;

const content = await getPageContent('galleries');
const catalog = (await getEntry('galleryCatalog', 'categories')).data;
const categories = catalog.categories
  .filter((cat): cat is typeof cat & { slug: string } => Boolean(cat.slug))
  .map((cat) => ({ slug: cat.slug, title: cat.title }));
const meta = { title: content.title, description: content.description };
---
<Layout title={content.title} meta={meta}>
  <GalleryOverviewPage {categories} />
</Layout>
