---
import Layout from '@Design/Layout.astro';
import GalleryDetailPage from '@Pages/Gallery/DetailPage.astro';
import { siteContent } from '@Content/site';

export function getStaticPaths() {
  return siteContent.pages.galleries.categories.map((category) => ({
    params: { slug: category.slug },
    props: { title: category.title, description: category.description ?? '' },
  }));
}

const { slug } = Astro.params;
const { title, description } = Astro.props as { title?: string; description?: string };

const galleryMeta = siteContent.pages.galleries.meta;
const meta = {
  ...galleryMeta,
  title: title ?? galleryMeta.title,
  description: description?.length ? description : galleryMeta.description,
};
---
<Layout {meta}>
  <GalleryDetailPage albumSlug={slug} title={title} description={description} />
</Layout>
