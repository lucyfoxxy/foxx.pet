---
import { View } from '@Frontend';
import { isAlbumEntry } from '@utils/getEntries';
import { buildSectionEntryStaticPaths } from '@utils/sectionPaths';

export async function getStaticPaths() {
  return buildSectionEntryStaticPaths('paws', (entry) => {
    if (!isAlbumEntry(entry)) {
      return null;
    }

    return {
      category: entry.data.category ?? 'general',
      album: entry.data.slug,
    };
  });
}

const { album } = Astro.params;

if (!album) {
  throw new Error('Missing album slug');
}
---
<View.Entry section="paws" slug={album} />
